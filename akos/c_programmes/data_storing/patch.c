unsigned int patch(unsigned int n) {
    return ((int)n % (1 << 17));
}